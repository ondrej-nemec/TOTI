<h1>Form inputs and grid filters</h1>

<p class="alert alert-success">
	Examples of using inputs in form are <a href="https://github.com/ondrej-nemec/TOTI/tree/master/src/test/java/samples/examples/form">here</a>.
</p>

<p class="alert alert-success">
	Examples of using inputs as grid filters are <a href="https://github.com/ondrej-nemec/TOTI/tree/master/src/test/java/samples/examples/grid">here</a>.
</p>

<p>
	The filters and inputs (controls) have some predefined parameters. If you need some other, you can use <code>addParam</code> method (more times for one control).
</p>

<p>
	Inputs title can be set by <code>setTitle</code> (except <i>Hidden</i>).
</p>

<p>
	HTML5 forms ignore disabled inputs. On the other hand, TOTI inputs contains parameters: <i>disabled</i> (<code>setDisabled</code>), <i>exclude</i> (<code>setExclude</code>, default false) and <i>editable</i> (<code>setEditable</code>, default inherit from form).
</p>

<p>
	How it works:

	<ul>
		<li><i>disabled == true</i>: if <i>exclude</i> not set, <i>exclude</i> become TRUE and input will be ignored</li>
		<li><i>disabled == true</i> and <i>exclude == true</i>: input ignored</li>
		<li><i>disabled == true</i> and <i>exclude == false</i>: input NOT ignored</li>
		<li>form is editable and <i>editable == false</i>: input ignored, <i>exclude</i> and <i>disabled</i> ignored. Input NOT displayed as input but like simple text</li>
		<li>form is not editable and <i>editable == true</i>: input displayed as input</li>
	</ul>
</p>

<h2>Textual and numeric</h2>

<h3>Text</h3>

<p>
	Simple text input. HMTL standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Text.filter()</code> <br>
	<strong>Create input:</strong> <code>Text.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Size <code>setSize</code>: default text size</li>
		<li>Maximal length <code>setMaxLength</code>: maximal allowed text length</li>
		<li>Minimal length <code>setMinLength</code>: minimal required text length</li>
	</ul>
</p>

<h3>Textarea</h3>

<p>
	For large texts. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Textarea.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Maximal length <code>setMaxLength</code>: maximal allowed text length</li>
		<li>Count of columns <code>setCols</code></li>
		<li>Count of rows <code>setRows</code></li>
	</ul>
</p>

<h3>Email</h3>

<p>
	Text input with check if contains '@'. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Email.input(String name, boolean required)</code> <br>
</p>

<h3>Password</h3>

<p>
	Text input where all letters are hidden. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Password.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Size <code>setSize</code>: default text size</li>
		<li>Maximal length <code>setMaxLength</code>: maximal allowed text length</li>
		<li>Minimal length <code>setMinLength</code>: minimal required text length</li>
	</ul>
</p>

<h3>Number</h3>

<p>
	Allow fill only numbers. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Number.filter()</code> <br>
	<strong>Create input:</strong> <code>Number.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Step <code>setStep</code>: tehl legal number intervals</li>
		<li>Minimal value <code>setMin</code>: the minimal required value</li>
		<li>Maximal value <code>setMax</code>: the maximal allowed value</li>
	</ul>
</p>

<h3>Range</h3>

<p>
	Allow fill only numbers. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Range.filter()</code> <br>
	<strong>Create input:</strong> <code>Range.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Step <code>setStep</code>: tehl legal number intervals</li>
		<li>Minimal value <code>setMin</code>: the minimal required value</li>
		<li>Maximal value <code>setMax</code>: the maximal allowed value</li>
	</ul>
</p>

<strong>NOTE:</strong>
<p>
	This tag not support empty value by default. If <code>required</code> is set to FALSE, TOTI display checkbox with. Checked means send input value, not checked means not send (if checkbox is not checked, input is disabled).
</p>

<h2>Determination of time</h2>

<h3>Date</h3>

<p>
	Picker for date with localized messages. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Date.filter()</code> <br>
	<strong>Create input:</strong> <code>Date.filter(String name, boolean required)</code> <br>
</p>

<h3>Time</h3>

<p>
	Picker for time with localized messages. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Time.filter()</code> <br>
	<strong>Create input:</strong> <code>Time.filter(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Time deep <code>setStep</code>: "1" means use hours, minutes and hours, "60" means use hours and minutes, "3600" means use only hours</li>
	</ul>
</p>

<h3>Datetime</h3>

<p>
	Picker for date and time with localized messages. Some browsers like Firefox not support <code>datetime-local</code> so for Firefox is used little TOTI modification.
</p>

<p>
	<strong>Create filter:</strong> <code>Datetime.filter()</code> <br>
	<strong>Create input:</strong> <code>Datetime.input(String name, boolean required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Time deep <code>setStep</code>: "1" means use hours, minutes and hours, "60" means use hours and minutes, "3600" means use only hours</li>
		<li>Use full value <code>setStrict</code>: if false, it allows to use only date or only time. Effect datetime in filter and not required datetime in form</li>
	</ul>
</p>

<h3>Month</h3>

<p>
	Picker for selecting month with localized messages. HTML standard tag. Not supported by some browsers like Firefox.
</p>

<p>
	<strong>Create filter:</strong> <code>Month.filter()</code> <br>
	<strong>Create input:</strong> <code>Month.filter(String name, boolean required)</code> <br>
</p>

<h3>Week</h3>

<p>
	Picker for selecting week with localized messages. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Week.filter()</code> <br>
	<strong>Create input:</strong> <code>Week.filter(String name, boolean required)</code> <br>
</p>


<h2>Action</h2>

<h3>Submit</h3>

<p>
	Submit form. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Submit.create(String title, String name)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Submit asynchroniously <code>setAsync</code></li>
	</ul>

	<strong>Only for asynchronious</strong>
	<ul>
		<li>Redirect after success <code>setRedirect</code>: URL redirect to. If URL contains<code>{id}</code> and submit response is object containing 'id' parameter, '{id}' is it replaced with <code>response.id</code>.</li>
		<li>Do after success <code>setOnSuccess</code>: name of JS function. As parameters are used (in order) response, submit and form.</li>
		<li>Do after failure <code>setOnFailure</code>: name of JS function. As parameters are used (in order) response, submit and form.</li>
		<li>Confirmation before <code>setConfirmation</code>: text of confirmation. If no text set, no confirmation appear.</li>
	</ul>
</p>

<strong>Async submit response</strong>

<p>
	If response is object, TOTI expects two attributes: <code>message</code> (is used as flash message to users) and <code>id</code> (used for replacing <code>{id}</code> in redirect message if exists).
	Otherwise, TOTI use response as flash message for users.
</p>

<h3>Button</h3>

<p>
	Navigate from form but not submit values. If used in grid, you can parametrize URL with '<i>{*name-of-parameter*}</i>'. F.e. '<i>/{name}/edit/{id}</i>' will be '<i>/cars/edit/2</i>'. HTML standard tag
</p>

<p>
	<strong>Create:</strong> <code>Button.create(String url, String name)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Title <code>setTitle</code>: text of button</li>
		<li>Asynchronious request <code>setAsync</code>: if send request synchroniously (redirect) or not</li>
		<li>Icon <code>setIcon</code>: TOTI add <code>&lt;i&gt;</code> with given class to button</li>
		<li>Tooltip <code>setTooltip</code></li>
		<li>Add class <code>addClass</code>: add given class to button, can be called more times</li>
	</ul>

	<strong>Only for asynchronious</strong>
	<ul>
		<li>Request method <code>setMethod</code>: GET, POST,...</li>
		<li>Do after success response <code>setOnSuccess</code>: name of JS function called after success response. Response is used as parameter</li>
		<li>Do after failure response <code>setOnFailure</code>: name of JS function called after failure response. Response is used as parameter</li>
		<li>Confirmation before <code>setConfirmation</code>: text of confirmation. If no text set, no confirmation appear. If used in grid, you can parametrize URL with '<i>{*name-of-parameter*}</i>'.</li>
		<li>Request parameters <code>addRequestParam</code>: add new request parameter (can be called more times)</li>
		<li>Print condition (grid only): <code>setCondition(jsCode, evaluate)</code> - during print, TOTI execute JS code. If result is true, display button. The second parameter says if <code>jsCode</code> is parametrized with {*name-of-row-property*}</li>
	</ul>
</p>

<h3>Reset</h3>

<p>
	Return form state to default values. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Reset.create(String name)</code> <br>
</p>


<h2>Selection</h2>

<h3>Checkbox</h3>

<p>
	For Yes/No selection. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Checkbox.input(String name, boolea required)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Values render <code>setValuesRender(String checked, String notChecked)</code>: how will be displayed in not-editable form. Default <i>Yes</i> and <i>No</i></li>
	</ul>
</p>

<h3>Radiolist</h3>

<p>
	Show list of radio. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>RadioList.input(String name, boolean required, Map&lt;String, String&gt; radios)</code>. Radios are value-title map<br>
</p>

<h3>Select</h3>

<p>
	Select from list of values. Options into select can be loaded from URL. HTML standard tag
</p>

<p>
	<strong>Create filter:</strong> <code>Select.filter(List&lt;Option&gt; options)</code> <br>
	<strong>Create input:</strong> <code>Select.input(String name, boolean required, List&lt;Option&gt; options)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Load data from URL:</li>
<pre><code class="language-java">
select.setLoadData(String url, String method);
// or with request parameters
select.setLoadData(String url, String method, Map&lt;String, String&gt; params);
</code></pre>

		<li>If you load data from URL, you can specify which Option Group have to be showed in this select:</li>
<pre><code class="language-java">
select.setShowedOptionGroup(String optionGroup);
</code></pre>

	</ul>
</p>

<h4>Load data to select</h4>
<p>
	For dynamic load data to select, TOTI expects this format of result:
</p>

<pre><code>
[
	{
		value: '-value-',
		title: '-title-',
		optgroup: '-opt-group-', // optional
		disabled: true/false // optional
	},
	...
]
</code></pre>

<p>
	<strong>This result can be created using <code>List</code> of <code>Help</code>.</strong>
</p>

<h4>Depends</h4>

<p>
	If <code>Select</code> ('Target') contains optgroups, it can depends on another <code>Select</code> ('Source'). 
	If source has no selected value, target display normally (but optgroups in target are replaced with source options title: target.optgroup = sourceOption.id => target display sourceOption.title as optgroup)
	If source contais value, target display only options without optgroup or with optgroup same as source value.
</p>

<h3>Option</h3>

<p>
	Child element of select. HTML standard tag
</p>

<p>
	<strong>Create:</strong> <code>Option.create(String value, String title)</code> <br>
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Option Group <code>setOptGroup</code>: name of Option Group this option belong</li>
		<li>Disabled <code>setDisabled</code>: change disabled</li>
	</ul>
</p>


<h2>Special</h2>

<h3>Hidden</h3>

<p>
	Value is hidden. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>Hidden.input(String name)</code> <br>
</p>

<h3>Color</h3>

<p>
	Show color picker. Input only. HTML standard tag
</p>


<p>
	<strong>Create input:</strong> <code>Color.input(String name, boolean required)</code> <br>
</p>

<strong>NOTE:</strong>
<p>
	This tag not support empty value by default. If <code>required</code> is set to FALSE, TOTI display checkbox with. Checked means send input value, not checked means not send (if checkbox is not checked, input is disabled).
</p>

<h3>File</h3>

<p>
	For uploading file. Input only. HTML standard tag
</p>

<p>
	<strong>Create input:</strong> <code>File.input(String name, boolean required)</code> <br>
</p>


<h2>TOTI specific</h2>

<h3>InputList</h3>

<p>
	<code>InputList</code> is container for other inputs. These inputs are available on page with name <code>InputListName[nameOfList][inputName]</code> (in TOTI called Map) or <code>InputListName[][inputName]</code> (in TOTI called List). Input only
</p>

<p>
	<strong>Create input:</strong> <code>InputList.input(String name)</code>. If you wish use list let name empty string (<strong>not null</strong>).<br>
	Add input to list: <code>inputList.addInput(Input input)</code>
</p>

<p>
	Example of usage is <a href="https://github.com/ondrej-nemec/TOTI/tree/master/src/test/java/samples/examples/form">here</a> (including form bind).
</p>

<h3>DynamicList</h3>

<p>
	In <code>DynamicList</code> you define input. This input appears on page n-times depends on Add/Remove buttons and binding. The inputs are available on page with name <code>DynamicListName[index][inputName]</code>. If you wish bind values to <code>DynamicList</code>, in values is required List on DynamicListName key. Input only
</p>

<p>
	<strong>Create input:</strong> <code>DynamicList.input(String name)</code> <br>
	Add input to list: `dynamicList.addInput(Input input);`
</p>

<strong>Optional parameters</strong>

<p>
	<ul>
		<li>Title <code>setTitle</code>: label of input</li>
		<li>Use Add Button <code>useAddButton</code>: if user can add input</li>
		<li>Use Remote Button <code>useRemoteButton</code>: if user can remove input</li>
	</ul>
</p>

<p>
	Example of usage is <a href="https://github.com/ondrej-nemec/TOTI/tree/master/src/test/java/samples/examples/form">here</a> (including form bind).
</p>